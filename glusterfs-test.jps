jpsType: install
name: test
nodes:
  - nodeType: litespeedadc
    count: 1
    flexibleCloudlets: 8
    fixedCloudlets: 1
    diskLimit: 10
    nodeGroup: bl

  - nodeType: litespeedphp
    count: 2
    flexibleCloudlets: 16
    fixedCloudlets: 1
    diskLimit: 10
    nodeGroup: cp

  - nodeType: storage
    count: 3
    cluster: true
    flexibleCloudlets: 8
    fixedCloudlets: 1
    diskLimit: 100
    nodeGroup: storage

onInstall:
    - log: Mount Storage
    - api:
      - method: jelastic.environment.file.AddMountPointByGroup
        params:
          nodeGroup: cp
          sourceNodeId: ${nodes.storage.master.id}
          sourcePath: /data
          path: /var/www/webroot/ROOT
          sourceAddressType: NODE_GROUP
          protocol: NFS4
          
